// This is your Prisma schema file
// Learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}


datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Youtube videos
model YoutubeModel {
  id          String   @id @default(uuid())
  youtube_url String
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt

  @@map("zirospace_youtube")
}

// Case Studies - English
model CaseStudyEN {
  id           String   @id @default(uuid())
  title        String
  description  String
  tags         String[]
  images       Json     // This is a JSONB field in the database
  cta_text     String
  cta_text_name String
  cta_url      String
  created_at   DateTime @default(now())
  updated_at   DateTime @updatedAt
  slug         String
  order_index  Int      @default(0)

  @@map("zirospace_case_studies_en")
}

// Case Studies - Polish
model CaseStudyPL {
  id           String   @id @default(uuid())
  title        String
  description  String
  tags         String[]
  images       Json     // This is a JSONB field in the database
  cta_text     String
  cta_text_name String
  cta_url      String
  created_at   DateTime @default(now())
  updated_at   DateTime @updatedAt
  slug         String
  order_index  Int      @default(0)

  @@map("zirospace_case_studies_pl")
}

// Blog Posts - English
model BlogPostEN {
  id          String   @id @default(uuid())
  slug        String   @unique
  title       String
  image_url   String
  created_at  DateTime @default(now())
  image_alt   String?
  excerpt     String
  content_html String  @db.Text
  is_pinned   Boolean  @default(false)

  @@map("zirospace_blog_posts_en")
}

// Blog Posts - Polish
model BlogPostPL {
  id          String   @id @default(uuid())
  slug        String   @unique
  title       String
  image_url   String
  created_at  DateTime @default(now())
  image_alt   String?
  excerpt     String
  content_html String  @db.Text
  is_pinned   Boolean  @default(false)

  @@map("zirospace_blog_posts_pl")
}

// Testimonials - English
model TestimonialEN {
  id         String   @id @default(uuid())
  author     String
  role       String
  company    String
  quote      String   @db.Text
  image      String
  image_alt  String
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  @@map("zirospace_testimonials_en")
}

// Testimonials - Polish
model TestimonialPL {
  id         String   @id @default(uuid())
  author     String
  role       String
  company    String
  quote      String   @db.Text
  image      String
  image_alt  String
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  @@map("zirospace_testimonials_pl")
}

// Case Study Slider (shared)
model CaseStudySlider {
  id         String           @id @default(uuid())
  created_at DateTime         @default(now())
  updated_at DateTime         @updatedAt
  images     CaseStudyImage[]

  @@map("zirospace_case_study_sliders")
}

// Case Study Images (shared)
model CaseStudyImage {
  id              String          @id @default(uuid())
  image           String
  alt             String
  created_at      DateTime        @default(now())
  updated_at      DateTime        @updatedAt
  caseStudySlider CaseStudySlider? @relation(fields: [sliderId], references: [id])
  sliderId        String?

  @@map("zirospace_case_study_images")
}

// Hero Section (supports multiple locales)
model Hero {
  id                 String   @id @default(uuid())
  title              String
  subtitle           String
  cta_primary_text   String
  cta_primary_link   String
  cta_secondary_text String
  cta_secondary_link String
  background         String   // URL or image path
  locale             String   // 'en' or 'pl'
  created_at         DateTime @default(now())
  updated_at         DateTime @updatedAt

  @@unique([locale])  // Ensure only one entry per locale
  @@map("zirospace_hero")
}